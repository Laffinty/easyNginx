# Nginx Global Configuration
# Generated by easyNginx v1.0

# Worker进程数（自动�?
worker_processes auto;

# 文件描述符限�?
worker_rlimit_nofile 8192;

# 错误日志
error_log logs/error.log warn;

events {
    # 每个worker的连接数
    worker_connections 1024;
    
    # 多连接接�?
    multi_accept on;
    
    # 使用select（Windows）或epoll（Linux�?
    use select;
}
http {
    include       mime.types;
    default_type  application/octet-stream;

    # �����ڴ������壨�����ã�
    limit_req_zone $binary_remote_addr zone=test_req:10m rate=10r/s;
    limit_conn_zone $binary_remote_addr zone=test_conn:10m;

# easyNginx-MANAGED-START
# easyNginx-managed-site: test
# test - Static Site Configuration
# Generated by easyNginx v1.0 at 2026-01-05
# Performance Baseline: Applied (F5/CIS Best Practices)
# HTTPS Security: Disabled
server {
    listen 80;
    server_name localhost;
    
    # ============================================
    # 性能优化基线 (Performance Baseline)
    # 来源: F5 Tuning Guide, CIS Benchmarks 2025-2026
    # ============================================
    
    # 连接优化
    keepalive_timeout 65s;
    keepalive_requests 1000;
    
    # Gzip压缩配置
    gzip on;
    gzip_comp_level 6;
    gzip_min_length 1024;
    gzip_vary on;
    gzip_proxied any;
    gzip_types text/plain text/css text/xml text/javascript application/javascript application/xml+rss application/json image/svg+xml font/ttf font/otf;
    
    # 高效传输
    sendfile on;
    tcp_nopush on;
    tcp_nodelay on;
    
    # 请求限制
    client_max_body_size 10m;
    client_body_timeout 12s;
    client_header_timeout 12s;
    send_timeout 10s;
    
    # 日志优化
    access_log off;
    
    error_log logs/test_error.log warn;
    
    # ============================================
    # 安全加固 (Security Hardening)
    # ============================================
    
    # 隐藏版本信息
    server_tokens off;
    
    # 隐藏.开头文�?
    location ~ /\. {
        deny all;
        access_log off;
        log_not_found off;
    }
    
    # 请求限制（防DDoS/爆破�?
    limit_req zone=test_req burst=20 nodelay;
    limit_conn test_conn 20;
    
    # 缓冲区限制（防缓冲区溢出�?
    client_body_buffer_size 8k;
    client_header_buffer_size 1k;
    large_client_header_buffers 2 1k;
    
    # ============================================
    # 站点配置
    # ============================================
    
    # 根目录和索引
    root "C:\Users\ikrx2\Desktop\1";
    index index.html;
    
    # 主location
    location / {
        try_files $uri $uri/ =404;
        
        # 安全头（基础�?
        add_header X-Content-Type-Options nosniff always;
        add_header X-Frame-Options SAMEORIGIN always;
        add_header X-XSS-Protection "1; mode=block" always;
        add_header Referrer-Policy "strict-origin-when-cross-origin" always;
    }
    
    # ============================================
    # HTTPS配置（可选）
    # ============================================
}

# easyNginx-MANAGED-END
}
